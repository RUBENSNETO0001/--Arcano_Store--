{"ast":null,"code":"import { setInteractionModality as $9Gacy$setInteractionModality } from \"@react-aria/interactions\";\nimport { useRef as $9Gacy$useRef, useEffect as $9Gacy$useEffect } from \"react\";\nimport { useLayoutEffect as $9Gacy$useLayoutEffect, useEffectEvent as $9Gacy$useEffectEvent } from \"@react-aria/utils\";\n\n/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nfunction $e93e671b31057976$export$b8473d3665f3a75a(props, state, ref) {\n  let {\n    validationBehavior: validationBehavior,\n    focus: focus\n  } = props;\n  // This is a useLayoutEffect so that it runs before the useEffect in useFormValidationState, which commits the validation change.\n  (0, $9Gacy$useLayoutEffect)(() => {\n    if (validationBehavior === 'native' && (ref === null || ref === void 0 ? void 0 : ref.current) && !ref.current.disabled) {\n      let errorMessage = state.realtimeValidation.isInvalid ? state.realtimeValidation.validationErrors.join(' ') || 'Invalid value.' : '';\n      ref.current.setCustomValidity(errorMessage);\n      // Prevent default tooltip for validation message.\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=605277\n      if (!ref.current.hasAttribute('title')) ref.current.title = '';\n      if (!state.realtimeValidation.isInvalid) state.updateValidation($e93e671b31057976$var$getNativeValidity(ref.current));\n    }\n  });\n  let isIgnoredReset = (0, $9Gacy$useRef)(false);\n  let onReset = (0, $9Gacy$useEffectEvent)(() => {\n    if (!isIgnoredReset.current) state.resetValidation();\n  });\n  let onInvalid = (0, $9Gacy$useEffectEvent)(e => {\n    var _ref_current;\n    // Only commit validation if we are not already displaying one.\n    // This avoids clearing server errors that the user didn't actually fix.\n    if (!state.displayValidation.isInvalid) state.commitValidation();\n    // Auto focus the first invalid input in a form, unless the error already had its default prevented.\n    let form = ref === null || ref === void 0 ? void 0 : (_ref_current = ref.current) === null || _ref_current === void 0 ? void 0 : _ref_current.form;\n    if (!e.defaultPrevented && ref && form && $e93e671b31057976$var$getFirstInvalidInput(form) === ref.current) {\n      var _ref_current1;\n      if (focus) focus();else (_ref_current1 = ref.current) === null || _ref_current1 === void 0 ? void 0 : _ref_current1.focus();\n      // Always show focus ring.\n      (0, $9Gacy$setInteractionModality)('keyboard');\n    }\n    // Prevent default browser error UI from appearing.\n    e.preventDefault();\n  });\n  let onChange = (0, $9Gacy$useEffectEvent)(() => {\n    state.commitValidation();\n  });\n  (0, $9Gacy$useEffect)(() => {\n    let input = ref === null || ref === void 0 ? void 0 : ref.current;\n    if (!input) return;\n    let form = input.form;\n    let reset = form === null || form === void 0 ? void 0 : form.reset;\n    if (form)\n      // Try to detect React's automatic form reset behavior so we don't clear\n      // validation errors that are returned by server actions.\n      // To do this, we ignore programmatic form resets that occur outside a user event.\n      // This is best-effort. There may be false positives, e.g. setTimeout.\n      form.reset = () => {\n        // React uses MessageChannel for scheduling, so ignore 'message' events.\n        isIgnoredReset.current = !window.event || window.event.type === 'message' && window.event.target instanceof MessagePort;\n        reset === null || reset === void 0 ? void 0 : reset.call(form);\n        isIgnoredReset.current = false;\n      };\n    input.addEventListener('invalid', onInvalid);\n    input.addEventListener('change', onChange);\n    form === null || form === void 0 ? void 0 : form.addEventListener('reset', onReset);\n    return () => {\n      input.removeEventListener('invalid', onInvalid);\n      input.removeEventListener('change', onChange);\n      form === null || form === void 0 ? void 0 : form.removeEventListener('reset', onReset);\n      if (form)\n        // @ts-ignore\n        form.reset = reset;\n    };\n  }, [ref, onInvalid, onChange, onReset, validationBehavior]);\n}\nfunction $e93e671b31057976$var$getValidity(input) {\n  // The native ValidityState object is live, meaning each property is a getter that returns the current state.\n  // We need to create a snapshot of the validity state at the time this function is called to avoid unpredictable React renders.\n  let validity = input.validity;\n  return {\n    badInput: validity.badInput,\n    customError: validity.customError,\n    patternMismatch: validity.patternMismatch,\n    rangeOverflow: validity.rangeOverflow,\n    rangeUnderflow: validity.rangeUnderflow,\n    stepMismatch: validity.stepMismatch,\n    tooLong: validity.tooLong,\n    tooShort: validity.tooShort,\n    typeMismatch: validity.typeMismatch,\n    valueMissing: validity.valueMissing,\n    valid: validity.valid\n  };\n}\nfunction $e93e671b31057976$var$getNativeValidity(input) {\n  return {\n    isInvalid: !input.validity.valid,\n    validationDetails: $e93e671b31057976$var$getValidity(input),\n    validationErrors: input.validationMessage ? [input.validationMessage] : []\n  };\n}\nfunction $e93e671b31057976$var$getFirstInvalidInput(form) {\n  for (let i = 0; i < form.elements.length; i++) {\n    let element = form.elements[i];\n    if (!element.validity.valid) return element;\n  }\n  return null;\n}\nexport { $e93e671b31057976$export$b8473d3665f3a75a as useFormValidation };","map":{"version":3,"names":["$e93e671b31057976$export$b8473d3665f3a75a","props","state","ref","validationBehavior","focus","$9Gacy$useLayoutEffect","current","disabled","errorMessage","realtimeValidation","isInvalid","validationErrors","join","setCustomValidity","hasAttribute","title","updateValidation","$e93e671b31057976$var$getNativeValidity","isIgnoredReset","$9Gacy$useRef","onReset","$9Gacy$useEffectEvent","resetValidation","onInvalid","e","_ref_current","displayValidation","commitValidation","form","defaultPrevented","$e93e671b31057976$var$getFirstInvalidInput","_ref_current1","$9Gacy$setInteractionModality","preventDefault","onChange","$9Gacy$useEffect","input","reset","window","event","type","target","MessagePort","call","addEventListener","removeEventListener","$e93e671b31057976$var$getValidity","validity","badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing","valid","validationDetails","validationMessage","i","elements","length","element"],"sources":["C:\\Users\\Aluno\\Documents\\GitHub\\--Arcano_Store--\\arcanostore\\node_modules\\@heroui\\react\\node_modules\\@react-aria\\form\\dist\\packages\\@react-aria\\form\\src\\useFormValidation.ts"],"sourcesContent":["/*\n * Copyright 2023 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\n\nimport {FormValidationState} from '@react-stately/form';\nimport {RefObject, Validation, ValidationResult} from '@react-types/shared';\nimport {setInteractionModality} from '@react-aria/interactions';\nimport {useEffect, useRef} from 'react';\nimport {useEffectEvent, useLayoutEffect} from '@react-aria/utils';\n\ntype ValidatableElement = HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement;\n\ninterface FormValidationProps<T> extends Validation<T> {\n  focus?: () => void\n}\n\nexport function useFormValidation<T>(props: FormValidationProps<T>, state: FormValidationState, ref: RefObject<ValidatableElement | null> | undefined): void {\n  let {validationBehavior, focus} = props;\n\n  // This is a useLayoutEffect so that it runs before the useEffect in useFormValidationState, which commits the validation change.\n  useLayoutEffect(() => {\n    if (validationBehavior === 'native' && ref?.current && !ref.current.disabled) {\n      let errorMessage = state.realtimeValidation.isInvalid ? state.realtimeValidation.validationErrors.join(' ') || 'Invalid value.' : '';\n      ref.current.setCustomValidity(errorMessage);\n\n      // Prevent default tooltip for validation message.\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=605277\n      if (!ref.current.hasAttribute('title')) {\n        ref.current.title = '';\n      }\n\n      if (!state.realtimeValidation.isInvalid) {\n        state.updateValidation(getNativeValidity(ref.current));\n      }\n    }\n  });\n\n  let isIgnoredReset = useRef(false);\n  let onReset = useEffectEvent(() => {\n    if (!isIgnoredReset.current) {\n      state.resetValidation();\n    }\n  });\n\n  let onInvalid = useEffectEvent((e: Event) => {\n    // Only commit validation if we are not already displaying one.\n    // This avoids clearing server errors that the user didn't actually fix.\n    if (!state.displayValidation.isInvalid) {\n      state.commitValidation();\n    }\n\n    // Auto focus the first invalid input in a form, unless the error already had its default prevented.\n    let form = ref?.current?.form;\n    if (!e.defaultPrevented && ref && form && getFirstInvalidInput(form) === ref.current) {\n      if (focus) {\n        focus();\n      } else {\n        ref.current?.focus();\n      }\n\n      // Always show focus ring.\n      setInteractionModality('keyboard');\n    }\n\n    // Prevent default browser error UI from appearing.\n    e.preventDefault();\n  });\n\n  let onChange = useEffectEvent(() => {\n    state.commitValidation();\n  });\n\n  useEffect(() => {\n    let input = ref?.current;\n    if (!input) {\n      return;\n    }\n\n    let form = input.form;\n\n    let reset = form?.reset;\n    if (form) {\n      // Try to detect React's automatic form reset behavior so we don't clear\n      // validation errors that are returned by server actions.\n      // To do this, we ignore programmatic form resets that occur outside a user event.\n      // This is best-effort. There may be false positives, e.g. setTimeout.\n      form.reset = () => {\n        // React uses MessageChannel for scheduling, so ignore 'message' events.\n        isIgnoredReset.current = !window.event || (window.event.type === 'message' && window.event.target instanceof MessagePort);\n        reset?.call(form);\n        isIgnoredReset.current = false;\n      };\n    }\n\n    input.addEventListener('invalid', onInvalid);\n    input.addEventListener('change', onChange);\n    form?.addEventListener('reset', onReset);\n    return () => {\n      input!.removeEventListener('invalid', onInvalid);\n      input!.removeEventListener('change', onChange);\n      form?.removeEventListener('reset', onReset);\n      if (form) {\n        // @ts-ignore\n        form.reset = reset;\n      }\n    };\n  }, [ref, onInvalid, onChange, onReset, validationBehavior]);\n}\n\nfunction getValidity(input: ValidatableElement) {\n  // The native ValidityState object is live, meaning each property is a getter that returns the current state.\n  // We need to create a snapshot of the validity state at the time this function is called to avoid unpredictable React renders.\n  let validity = input.validity;\n  return {\n    badInput: validity.badInput,\n    customError: validity.customError,\n    patternMismatch: validity.patternMismatch,\n    rangeOverflow: validity.rangeOverflow,\n    rangeUnderflow: validity.rangeUnderflow,\n    stepMismatch: validity.stepMismatch,\n    tooLong: validity.tooLong,\n    tooShort: validity.tooShort,\n    typeMismatch: validity.typeMismatch,\n    valueMissing: validity.valueMissing,\n    valid: validity.valid\n  };\n}\n\nfunction getNativeValidity(input: ValidatableElement): ValidationResult {\n  return {\n    isInvalid: !input.validity.valid,\n    validationDetails: getValidity(input),\n    validationErrors: input.validationMessage ? [input.validationMessage] : []\n  };\n}\n\nfunction getFirstInvalidInput(form: HTMLFormElement): ValidatableElement | null {\n  for (let i = 0; i < form.elements.length; i++) {\n    let element = form.elements[i] as ValidatableElement;\n    if (!element.validity.valid) {\n      return element;\n    }\n  }\n\n  return null;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}