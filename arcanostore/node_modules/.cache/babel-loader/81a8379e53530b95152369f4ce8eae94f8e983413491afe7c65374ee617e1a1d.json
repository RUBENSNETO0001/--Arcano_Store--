{"ast":null,"code":"/**\n * Adiciona um produto ao carrinho ou incrementa sua quantidade.\n * @param {object} produto - O objeto do produto (deve incluir `id`).\n * @param {number} [quantidade=1] - A quantidade a ser adicionada.\n */\nexport const adicionarAoCarrinho = (produto, quantidade = 1) => {\n  let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];\n  const produtoExistente = carrinho.find(item => item.id === produto.id);\n  if (produtoExistente) {\n    produtoExistente.quantidade += quantidade;\n  } else {\n    // Se não existe, adiciona com a quantidade inicial\n    carrinho.push({\n      ...produto,\n      quantidade: quantidade\n    });\n  }\n  localStorage.setItem('carrinho', JSON.stringify(carrinho));\n};\n\n/**\n * Remove um produto pelo ID do carrinho.\n * @param {string|number} produtoId - O ID do produto a ser removido.\n */\nexport const removerDoCarrinho = produtoId => {\n  let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];\n  // Filtra para manter apenas os itens que NÃO possuem o ID fornecido\n  carrinho = carrinho.filter(item => item.id !== produtoId);\n  localStorage.setItem('carrinho', JSON.stringify(carrinho));\n};\n\n/**\n * Atualiza a quantidade de um produto específico no carrinho.\n * Remove o produto se a quantidade for <= 0.\n * @param {string|number} produtoId - O ID do produto a ser atualizado.\n * @param {number} quantidade - A nova quantidade.\n */\nexport const atualizarQuantidade = (produtoId, quantidade) => {\n  let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];\n  const produto = carrinho.find(item => item.id === produtoId);\n  if (produto) {\n    produto.quantidade = quantidade;\n    if (produto.quantidade <= 0) {\n      // Se a quantidade for zero ou negativa, remove o item\n      carrinho = carrinho.filter(item => item.id !== produtoId);\n    }\n    localStorage.setItem('carrinho', JSON.stringify(carrinho));\n  }\n};\n\n/**\n * Retorna o array de itens do carrinho.\n * @returns {Array} - O carrinho ou um array vazio.\n */\nexport const obterCarrinho = () => {\n  return JSON.parse(localStorage.getItem('carrinho')) || [];\n};\n\n/**\n * Limpa completamente o carrinho (remove a chave 'carrinho' do localStorage).\n */\nexport const limparCarrinho = () => {\n  localStorage.removeItem('carrinho');\n};","map":{"version":3,"names":["adicionarAoCarrinho","produto","quantidade","carrinho","JSON","parse","localStorage","getItem","produtoExistente","find","item","id","push","setItem","stringify","removerDoCarrinho","produtoId","filter","atualizarQuantidade","obterCarrinho","limparCarrinho","removeItem"],"sources":["/opt/lampp/htdocs/--Arcano_Store--/arcanostore/src/services/system-carrinho.js"],"sourcesContent":["/**\n * Adiciona um produto ao carrinho ou incrementa sua quantidade.\n * @param {object} produto - O objeto do produto (deve incluir `id`).\n * @param {number} [quantidade=1] - A quantidade a ser adicionada.\n */\nexport const adicionarAoCarrinho = (produto, quantidade = 1) => {\n    let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];\n    const produtoExistente = carrinho.find(item => item.id === produto.id);\n\n    if (produtoExistente) {\n        produtoExistente.quantidade += quantidade; \n    } else {\n        // Se não existe, adiciona com a quantidade inicial\n        carrinho.push({ ...produto, quantidade: quantidade }); \n    }\n\n    localStorage.setItem('carrinho', JSON.stringify(carrinho));\n};\n\n/**\n * Remove um produto pelo ID do carrinho.\n * @param {string|number} produtoId - O ID do produto a ser removido.\n */\nexport const removerDoCarrinho = (produtoId) => {\n    let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];\n    // Filtra para manter apenas os itens que NÃO possuem o ID fornecido\n    carrinho = carrinho.filter(item => item.id !== produtoId);\n    localStorage.setItem('carrinho', JSON.stringify(carrinho));\n};\n\n/**\n * Atualiza a quantidade de um produto específico no carrinho.\n * Remove o produto se a quantidade for <= 0.\n * @param {string|number} produtoId - O ID do produto a ser atualizado.\n * @param {number} quantidade - A nova quantidade.\n */\nexport const atualizarQuantidade = (produtoId, quantidade) => {\n    let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];\n    const produto = carrinho.find(item => item.id === produtoId);\n\n    if (produto) {\n        produto.quantidade = quantidade;\n        if (produto.quantidade <= 0) {\n            // Se a quantidade for zero ou negativa, remove o item\n            carrinho = carrinho.filter(item => item.id !== produtoId);\n        }\n        localStorage.setItem('carrinho', JSON.stringify(carrinho));\n    }\n};\n\n/**\n * Retorna o array de itens do carrinho.\n * @returns {Array} - O carrinho ou um array vazio.\n */\nexport const obterCarrinho = () => {\n    return JSON.parse(localStorage.getItem('carrinho')) || [];\n};\n\n/**\n * Limpa completamente o carrinho (remove a chave 'carrinho' do localStorage).\n */\nexport const limparCarrinho = () => {\n    localStorage.removeItem('carrinho');\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,mBAAmB,GAAGA,CAACC,OAAO,EAAEC,UAAU,GAAG,CAAC,KAAK;EAC5D,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;EACjE,MAAMC,gBAAgB,GAAGL,QAAQ,CAACM,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKV,OAAO,CAACU,EAAE,CAAC;EAEtE,IAAIH,gBAAgB,EAAE;IAClBA,gBAAgB,CAACN,UAAU,IAAIA,UAAU;EAC7C,CAAC,MAAM;IACH;IACAC,QAAQ,CAACS,IAAI,CAAC;MAAE,GAAGX,OAAO;MAAEC,UAAU,EAAEA;IAAW,CAAC,CAAC;EACzD;EAEAI,YAAY,CAACO,OAAO,CAAC,UAAU,EAAET,IAAI,CAACU,SAAS,CAACX,QAAQ,CAAC,CAAC;AAC9D,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMY,iBAAiB,GAAIC,SAAS,IAAK;EAC5C,IAAIb,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;EACjE;EACAJ,QAAQ,GAAGA,QAAQ,CAACc,MAAM,CAACP,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKK,SAAS,CAAC;EACzDV,YAAY,CAACO,OAAO,CAAC,UAAU,EAAET,IAAI,CAACU,SAAS,CAACX,QAAQ,CAAC,CAAC;AAC9D,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMe,mBAAmB,GAAGA,CAACF,SAAS,EAAEd,UAAU,KAAK;EAC1D,IAAIC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;EACjE,MAAMN,OAAO,GAAGE,QAAQ,CAACM,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKK,SAAS,CAAC;EAE5D,IAAIf,OAAO,EAAE;IACTA,OAAO,CAACC,UAAU,GAAGA,UAAU;IAC/B,IAAID,OAAO,CAACC,UAAU,IAAI,CAAC,EAAE;MACzB;MACAC,QAAQ,GAAGA,QAAQ,CAACc,MAAM,CAACP,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKK,SAAS,CAAC;IAC7D;IACAV,YAAY,CAACO,OAAO,CAAC,UAAU,EAAET,IAAI,CAACU,SAAS,CAACX,QAAQ,CAAC,CAAC;EAC9D;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA,OAAO,MAAMgB,aAAa,GAAGA,CAAA,KAAM;EAC/B,OAAOf,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;AAC7D,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMa,cAAc,GAAGA,CAAA,KAAM;EAChCd,YAAY,CAACe,UAAU,CAAC,UAAU,CAAC;AACvC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}