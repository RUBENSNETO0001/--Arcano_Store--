{"ast":null,"code":"// src/use-multiselect.ts\nimport { useCollator } from \"@react-aria/i18n\";\nimport { setInteractionModality } from \"@react-aria/interactions\";\nimport { useField } from \"@react-aria/label\";\nimport { useMenuTrigger } from \"@react-aria/menu\";\nimport { ListKeyboardDelegate, useTypeSelect } from \"@react-aria/selection\";\nimport { chain, filterDOMProps, mergeProps, useId } from \"@react-aria/utils\";\nimport { useMemo } from \"react\";\nfunction useMultiSelect(props, state, ref) {\n  const {\n    disallowEmptySelection,\n    isDisabled\n  } = props;\n  const collator = useCollator({\n    usage: \"search\",\n    sensitivity: \"base\"\n  });\n  const delegate = useMemo(() => new ListKeyboardDelegate(state.collection, state.disabledKeys, null, collator), [state.collection, state.disabledKeys, collator]);\n  const {\n    menuTriggerProps,\n    menuProps\n  } = useMenuTrigger({\n    isDisabled,\n    type: \"listbox\"\n  }, state, ref);\n  const triggerOnKeyDown = e => {\n    if (state.selectionMode === \"single\") {\n      switch (e.key) {\n        case \"ArrowLeft\":\n          {\n            e.preventDefault();\n            const key = state.selectedKeys.size > 0 ? delegate.getKeyAbove(state.selectedKeys.values().next().value) : delegate.getFirstKey();\n            if (key) {\n              state.setSelectedKeys([key]);\n            }\n            break;\n          }\n        case \"ArrowRight\":\n          {\n            e.preventDefault();\n            const key = state.selectedKeys.size > 0 ? delegate.getKeyBelow(state.selectedKeys.values().next().value) : delegate.getFirstKey();\n            if (key) {\n              state.setSelectedKeys([key]);\n            }\n            break;\n          }\n      }\n    }\n  };\n  const {\n    typeSelectProps\n  } = useTypeSelect({\n    keyboardDelegate: delegate,\n    selectionManager: state.selectionManager,\n    onTypeSelect(key) {\n      state.setSelectedKeys([key]);\n    }\n  });\n  const {\n    isInvalid,\n    validationErrors,\n    validationDetails\n  } = state.displayValidation;\n  const {\n    labelProps,\n    fieldProps,\n    descriptionProps,\n    errorMessageProps\n  } = useField({\n    ...props,\n    labelElementType: \"span\",\n    isInvalid,\n    errorMessage: props.errorMessage || validationErrors\n  });\n  typeSelectProps.onKeyDown = typeSelectProps.onKeyDownCapture;\n  delete typeSelectProps.onKeyDownCapture;\n  menuTriggerProps.onPressStart = e => {\n    if (e.pointerType !== \"touch\" && e.pointerType !== \"keyboard\" && !isDisabled) {\n      state.toggle(e.pointerType === \"virtual\" ? \"first\" : null);\n    }\n  };\n  const domProps = filterDOMProps(props, {\n    labelable: true\n  });\n  const triggerProps = mergeProps(typeSelectProps, menuTriggerProps, fieldProps);\n  const valueId = useId();\n  return {\n    labelProps: {\n      ...labelProps,\n      onClick: () => {\n        var _a;\n        if (!props.isDisabled) {\n          (_a = ref.current) == null ? void 0 : _a.focus();\n          setInteractionModality(\"keyboard\");\n        }\n      }\n    },\n    triggerProps: mergeProps(domProps, {\n      ...triggerProps,\n      onKeyDown: chain(triggerProps.onKeyDown, triggerOnKeyDown, props.onKeyDown),\n      onKeyUp: props.onKeyUp,\n      \"aria-labelledby\": [valueId, triggerProps[\"aria-labelledby\"], triggerProps[\"aria-label\"] && !triggerProps[\"aria-labelledby\"] ? triggerProps.id : null].join(\" \"),\n      onFocus(e) {\n        if (state.isFocused) {\n          return;\n        }\n        if (props.onFocus) {\n          props.onFocus(e);\n        }\n        state.setFocused(true);\n      },\n      onBlur(e) {\n        if (state.isOpen) {\n          return;\n        }\n        if (props.onBlur) {\n          props.onBlur(e);\n        }\n        state.setFocused(false);\n      }\n    }),\n    valueProps: {\n      id: valueId\n    },\n    menuProps: {\n      ...menuProps,\n      disallowEmptySelection,\n      autoFocus: state.focusStrategy || true,\n      shouldSelectOnPressUp: true,\n      shouldFocusOnHover: true,\n      onBlur: e => {\n        if (e.currentTarget.contains(e.relatedTarget)) {\n          return;\n        }\n        if (props.onBlur) {\n          props.onBlur(e);\n        }\n        state.setFocused(false);\n      },\n      // @ts-ignore\n      onFocus: menuProps == null ? void 0 : menuProps.onFocus,\n      \"aria-labelledby\": [fieldProps[\"aria-labelledby\"], triggerProps[\"aria-label\"] && !fieldProps[\"aria-labelledby\"] ? triggerProps.id : null].filter(Boolean).join(\" \")\n    },\n    descriptionProps,\n    errorMessageProps,\n    isInvalid,\n    validationErrors,\n    validationDetails\n  };\n}\nexport { useMultiSelect };","map":{"version":3,"names":["useCollator","setInteractionModality","useField","useMenuTrigger","ListKeyboardDelegate","useTypeSelect","chain","filterDOMProps","mergeProps","useId","useMemo","useMultiSelect","props","state","ref","disallowEmptySelection","isDisabled","collator","usage","sensitivity","delegate","collection","disabledKeys","menuTriggerProps","menuProps","type","triggerOnKeyDown","e","selectionMode","key","preventDefault","selectedKeys","size","getKeyAbove","values","next","value","getFirstKey","setSelectedKeys","getKeyBelow","typeSelectProps","keyboardDelegate","selectionManager","onTypeSelect","isInvalid","validationErrors","validationDetails","displayValidation","labelProps","fieldProps","descriptionProps","errorMessageProps","labelElementType","errorMessage","onKeyDown","onKeyDownCapture","onPressStart","pointerType","toggle","domProps","labelable","triggerProps","valueId","onClick","_a","current","focus","onKeyUp","id","join","onFocus","isFocused","setFocused","onBlur","isOpen","valueProps","autoFocus","focusStrategy","shouldSelectOnPressUp","shouldFocusOnHover","currentTarget","contains","relatedTarget","filter","Boolean"],"sources":["C:/Users/Aluno/Documents/GitHub/--Arcano_Store--/arcanostore/node_modules/@heroui/use-aria-multiselect/dist/chunk-RLX3CPDX.mjs"],"sourcesContent":["// src/use-multiselect.ts\nimport { useCollator } from \"@react-aria/i18n\";\nimport { setInteractionModality } from \"@react-aria/interactions\";\nimport { useField } from \"@react-aria/label\";\nimport { useMenuTrigger } from \"@react-aria/menu\";\nimport { ListKeyboardDelegate, useTypeSelect } from \"@react-aria/selection\";\nimport { chain, filterDOMProps, mergeProps, useId } from \"@react-aria/utils\";\nimport { useMemo } from \"react\";\nfunction useMultiSelect(props, state, ref) {\n  const { disallowEmptySelection, isDisabled } = props;\n  const collator = useCollator({ usage: \"search\", sensitivity: \"base\" });\n  const delegate = useMemo(\n    () => new ListKeyboardDelegate(state.collection, state.disabledKeys, null, collator),\n    [state.collection, state.disabledKeys, collator]\n  );\n  const { menuTriggerProps, menuProps } = useMenuTrigger(\n    {\n      isDisabled,\n      type: \"listbox\"\n    },\n    state,\n    ref\n  );\n  const triggerOnKeyDown = (e) => {\n    if (state.selectionMode === \"single\") {\n      switch (e.key) {\n        case \"ArrowLeft\": {\n          e.preventDefault();\n          const key = state.selectedKeys.size > 0 ? delegate.getKeyAbove(state.selectedKeys.values().next().value) : delegate.getFirstKey();\n          if (key) {\n            state.setSelectedKeys([key]);\n          }\n          break;\n        }\n        case \"ArrowRight\": {\n          e.preventDefault();\n          const key = state.selectedKeys.size > 0 ? delegate.getKeyBelow(state.selectedKeys.values().next().value) : delegate.getFirstKey();\n          if (key) {\n            state.setSelectedKeys([key]);\n          }\n          break;\n        }\n      }\n    }\n  };\n  const { typeSelectProps } = useTypeSelect({\n    keyboardDelegate: delegate,\n    selectionManager: state.selectionManager,\n    onTypeSelect(key) {\n      state.setSelectedKeys([key]);\n    }\n  });\n  const { isInvalid, validationErrors, validationDetails } = state.displayValidation;\n  const { labelProps, fieldProps, descriptionProps, errorMessageProps } = useField({\n    ...props,\n    labelElementType: \"span\",\n    isInvalid,\n    errorMessage: props.errorMessage || validationErrors\n  });\n  typeSelectProps.onKeyDown = typeSelectProps.onKeyDownCapture;\n  delete typeSelectProps.onKeyDownCapture;\n  menuTriggerProps.onPressStart = (e) => {\n    if (e.pointerType !== \"touch\" && e.pointerType !== \"keyboard\" && !isDisabled) {\n      state.toggle(e.pointerType === \"virtual\" ? \"first\" : null);\n    }\n  };\n  const domProps = filterDOMProps(props, { labelable: true });\n  const triggerProps = mergeProps(typeSelectProps, menuTriggerProps, fieldProps);\n  const valueId = useId();\n  return {\n    labelProps: {\n      ...labelProps,\n      onClick: () => {\n        var _a;\n        if (!props.isDisabled) {\n          (_a = ref.current) == null ? void 0 : _a.focus();\n          setInteractionModality(\"keyboard\");\n        }\n      }\n    },\n    triggerProps: mergeProps(domProps, {\n      ...triggerProps,\n      onKeyDown: chain(triggerProps.onKeyDown, triggerOnKeyDown, props.onKeyDown),\n      onKeyUp: props.onKeyUp,\n      \"aria-labelledby\": [\n        valueId,\n        triggerProps[\"aria-labelledby\"],\n        triggerProps[\"aria-label\"] && !triggerProps[\"aria-labelledby\"] ? triggerProps.id : null\n      ].join(\" \"),\n      onFocus(e) {\n        if (state.isFocused) {\n          return;\n        }\n        if (props.onFocus) {\n          props.onFocus(e);\n        }\n        state.setFocused(true);\n      },\n      onBlur(e) {\n        if (state.isOpen) {\n          return;\n        }\n        if (props.onBlur) {\n          props.onBlur(e);\n        }\n        state.setFocused(false);\n      }\n    }),\n    valueProps: {\n      id: valueId\n    },\n    menuProps: {\n      ...menuProps,\n      disallowEmptySelection,\n      autoFocus: state.focusStrategy || true,\n      shouldSelectOnPressUp: true,\n      shouldFocusOnHover: true,\n      onBlur: (e) => {\n        if (e.currentTarget.contains(e.relatedTarget)) {\n          return;\n        }\n        if (props.onBlur) {\n          props.onBlur(e);\n        }\n        state.setFocused(false);\n      },\n      // @ts-ignore\n      onFocus: menuProps == null ? void 0 : menuProps.onFocus,\n      \"aria-labelledby\": [\n        fieldProps[\"aria-labelledby\"],\n        triggerProps[\"aria-label\"] && !fieldProps[\"aria-labelledby\"] ? triggerProps.id : null\n      ].filter(Boolean).join(\" \")\n    },\n    descriptionProps,\n    errorMessageProps,\n    isInvalid,\n    validationErrors,\n    validationDetails\n  };\n}\n\nexport {\n  useMultiSelect\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}