{"ast":null,"code":"// api_produtos.js\n\n// Ajuste o caminho base para a localiza√ß√£o da sua API PHP no servidor local (Apache/XAMPP)\nconst PHP_API_URL_BASE = '/arcanostore/backend_php/produtos_bd/produtos.php';\n\n// ***************************************************************\n// 1. FUN√á√ÉO CORRETA PARA BUSCAR TODOS OS PRODUTOS\n//    (Usada pelo Produtos.jsx/Main_home.jsx)\n// ***************************************************************\n/**\n * Busca a lista COMPLETA de todos os produtos da API (sem ID).\n * @returns {Promise<Array|Object>} Array de produtos (ou um objeto de erro).\n */\nexport const fetchProdutos = async () => {\n  try {\n    // A URL n√£o inclui par√¢metro de ID\n    const url = `http://localhost${PHP_API_URL_BASE}`;\n    console.log(\"-> üîé URL de API PHP (LISTA) sendo testada:\", url);\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Erro HTTP: ${response.status}`);\n    }\n    const data = await response.json();\n    // O PHP agora deve retornar um array ou { featuredProducts: [...] }\n    return data.featuredProducts || data;\n  } catch (error) {\n    console.error(\"‚ùå Erro ao buscar lista de produtos:\", error);\n    return {\n      sucesso: false,\n      mensagem: \"Erro ao buscar a lista de produtos. Verifique o servidor.\"\n    };\n  }\n};\n\n// ***************************************************************\n// 2. FUN√á√ÉO CORRETA PARA BUSCAR UM PRODUTO POR ID\n//    (Usada pelo Main_comprar.jsx/ProductDetailPage.jsx)\n// ***************************************************************\n/**\n * Busca um produto espec√≠fico pelo seu ID.\n * @param {number} produtoId - O ID do produto a ser buscado.\n * @returns {Promise<Object>} O objeto do produto ou objeto de erro.\n */\nexport const fetchProdutoPorId = async produtoId => {\n  try {\n    // A URL inclui o par√¢metro de ID\n    const url = `http://localhost${PHP_API_URL_BASE}?id=${produtoId}`;\n    console.log(\"-> üîé URL de API PHP (ID) sendo testada:\", url);\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Erro HTTP: ${response.status}`);\n    }\n    const data = await response.json();\n\n    // Se a API retornar um array (como o PHP faz), retorna o primeiro item.\n    return data.featuredProducts ? data.featuredProducts[0] || null : data[0] || null;\n  } catch (error) {\n    console.error(`‚ùå Erro ao buscar produto ID ${produtoId}:`, error);\n    return {\n      sucesso: false,\n      mensagem: \"Erro ao buscar produto por ID.\"\n    };\n  }\n};\n\n// Opcional: Adicionar a fun√ß√£o buscarProdutosPorCategoria aqui tamb√©m.","map":{"version":3,"names":["PHP_API_URL_BASE","fetchProdutos","url","console","log","response","fetch","ok","Error","status","data","json","featuredProducts","error","sucesso","mensagem","fetchProdutoPorId","produtoId"],"sources":["/opt/lampp/htdocs/--Arcano_Store--/arcanostore/src/services/api_produtos.js"],"sourcesContent":["// api_produtos.js\n\n// Ajuste o caminho base para a localiza√ß√£o da sua API PHP no servidor local (Apache/XAMPP)\nconst PHP_API_URL_BASE = '/arcanostore/backend_php/produtos_bd/produtos.php';\n\n// ***************************************************************\n// 1. FUN√á√ÉO CORRETA PARA BUSCAR TODOS OS PRODUTOS\n//    (Usada pelo Produtos.jsx/Main_home.jsx)\n// ***************************************************************\n/**\n * Busca a lista COMPLETA de todos os produtos da API (sem ID).\n * @returns {Promise<Array|Object>} Array de produtos (ou um objeto de erro).\n */\nexport const fetchProdutos = async () => {\n    try {\n        // A URL n√£o inclui par√¢metro de ID\n        const url = `http://localhost${PHP_API_URL_BASE}`;\n        console.log(\"-> üîé URL de API PHP (LISTA) sendo testada:\", url); \n\n        const response = await fetch(url);\n        \n        if (!response.ok) {\n            throw new Error(`Erro HTTP: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        // O PHP agora deve retornar um array ou { featuredProducts: [...] }\n        return data.featuredProducts || data; \n\n    } catch (error) {\n        console.error(\"‚ùå Erro ao buscar lista de produtos:\", error);\n        return { sucesso: false, mensagem: \"Erro ao buscar a lista de produtos. Verifique o servidor.\" }; \n    }\n}\n\n\n// ***************************************************************\n// 2. FUN√á√ÉO CORRETA PARA BUSCAR UM PRODUTO POR ID\n//    (Usada pelo Main_comprar.jsx/ProductDetailPage.jsx)\n// ***************************************************************\n/**\n * Busca um produto espec√≠fico pelo seu ID.\n * @param {number} produtoId - O ID do produto a ser buscado.\n * @returns {Promise<Object>} O objeto do produto ou objeto de erro.\n */\nexport const fetchProdutoPorId = async (produtoId) => {\n    try {\n        // A URL inclui o par√¢metro de ID\n        const url = `http://localhost${PHP_API_URL_BASE}?id=${produtoId}`;\n        console.log(\"-> üîé URL de API PHP (ID) sendo testada:\", url);\n\n        const response = await fetch(url);\n        \n        if (!response.ok) {\n            throw new Error(`Erro HTTP: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        \n        // Se a API retornar um array (como o PHP faz), retorna o primeiro item.\n        return data.featuredProducts ? (data.featuredProducts[0] || null) : (data[0] || null);\n\n    } catch (error) {\n        console.error(`‚ùå Erro ao buscar produto ID ${produtoId}:`, error);\n        return { sucesso: false, mensagem: \"Erro ao buscar produto por ID.\" }; \n    }\n}\n\n// Opcional: Adicionar a fun√ß√£o buscarProdutosPorCategoria aqui tamb√©m."],"mappings":"AAAA;;AAEA;AACA,MAAMA,gBAAgB,GAAG,mDAAmD;;AAE5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAI;IACA;IACA,MAAMC,GAAG,GAAG,mBAAmBF,gBAAgB,EAAE;IACjDG,OAAO,CAACC,GAAG,CAAC,6CAA6C,EAAEF,GAAG,CAAC;IAE/D,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,CAAC;IAEjC,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,cAAcH,QAAQ,CAACI,MAAM,EAAE,CAAC;IACpD;IAEA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAClC;IACA,OAAOD,IAAI,CAACE,gBAAgB,IAAIF,IAAI;EAExC,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZV,OAAO,CAACU,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;IAC3D,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAA4D,CAAC;EACpG;AACJ,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAOC,SAAS,IAAK;EAClD,IAAI;IACA;IACA,MAAMf,GAAG,GAAG,mBAAmBF,gBAAgB,OAAOiB,SAAS,EAAE;IACjEd,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAEF,GAAG,CAAC;IAE5D,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,CAAC;IAEjC,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,cAAcH,QAAQ,CAACI,MAAM,EAAE,CAAC;IACpD;IAEA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;;IAElC;IACA,OAAOD,IAAI,CAACE,gBAAgB,GAAIF,IAAI,CAACE,gBAAgB,CAAC,CAAC,CAAC,IAAI,IAAI,GAAKF,IAAI,CAAC,CAAC,CAAC,IAAI,IAAK;EAEzF,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZV,OAAO,CAACU,KAAK,CAAC,+BAA+BI,SAAS,GAAG,EAAEJ,KAAK,CAAC;IACjE,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAAiC,CAAC;EACzE;AACJ,CAAC;;AAED","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}