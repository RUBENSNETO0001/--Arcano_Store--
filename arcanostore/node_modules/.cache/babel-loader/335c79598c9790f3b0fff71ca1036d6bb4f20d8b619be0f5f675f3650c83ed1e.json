{"ast":null,"code":"const PHP_API_URL_BASE = '/--Arcano_Store--/arcanostore/backend_php/produtos/produtos.php';\n\n/**\n * Busca todos os produtos da API.\n * Corresponde à chamada PHP sem parâmetros.\n * @returns {Promise<Array|Object>} Array de produtos ou objeto de erro.\n */\nexport const fetchProdutos = async () => {\n  try {\n    const response = await fetch(`http://localhost${PHP_API_URL_BASE}`);\n    if (!response.ok) {\n      // Lança um erro se a resposta HTTP não for bem-sucedida (ex: 404, 500)\n      throw new Error(`Erro HTTP: ${response.status}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(\"Erro ao buscar produtos:\", error);\n    // Retorna um objeto de erro padronizado para ser tratado no frontend\n    return {\n      sucesso: false,\n      mensagem: \"Erro ao buscar produtos.\"\n    };\n  }\n};\n\n/**\n * Busca um produto específico pelo seu ID.\n * Corresponde à chamada PHP com o parâmetro '?id=...'.\n * @param {number} produtoId - O ID do produto a ser buscado.\n * @returns {Promise<Object>} O objeto do produto ou objeto de erro.\n */\nexport const fetchProdutoPorId = async produtoId => {\n  try {\n    const response = await fetch(`http://localhost${PHP_API_URL_BASE}?id=${produtoId}`);\n    if (!response.ok) {\n      throw new Error(`Erro HTTP: ${response.status}`);\n    }\n\n    // Se a API retornar um array com um único item (como esperado para busca por ID), \n    // é melhor retornar o objeto diretamente.\n    const data = await response.json();\n    return data[0] || null; // Retorna o primeiro item ou null se vazio.\n  } catch (error) {\n    console.error(`Erro ao buscar produto com ID ${produtoId}:`, error);\n    return {\n      sucesso: false,\n      mensagem: \"Erro ao buscar produto.\"\n    };\n  }\n};\n\n/**\n * Busca produtos por uma categoria específica.\n * Corresponde à chamada PHP com o parâmetro '?categoria=...'.\n * @param {string} categoria - O nome da categoria a ser buscada.\n * @returns {Promise<Array|Object>} Array de produtos da categoria ou objeto de erro.\n */\nexport const buscarProdutosPorCategoria = async categoria => {\n  try {\n    // Usa encodeURIComponent para garantir que caracteres especiais na categoria sejam tratados corretamente na URL\n    const response = await fetch(`http://localhost${PHP_API_URL_BASE}?categoria=${encodeURIComponent(categoria)}`);\n    if (!response.ok) {\n      throw new Error(`Erro HTTP: ${response.status}`);\n    }\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(`Erro ao buscar produtos na categoria ${categoria}:`, error);\n    return {\n      sucesso: false,\n      mensagem: \"Erro ao buscar produtos por categoria.\"\n    };\n  }\n};","map":{"version":3,"names":["PHP_API_URL_BASE","fetchProdutos","response","fetch","ok","Error","status","data","json","error","console","sucesso","mensagem","fetchProdutoPorId","produtoId","buscarProdutosPorCategoria","categoria","encodeURIComponent"],"sources":["/opt/lampp/htdocs/--Arcano_Store--/arcanostore/src/services/api_produtos.js"],"sourcesContent":["const PHP_API_URL_BASE = '/--Arcano_Store--/arcanostore/backend_php/produtos/produtos.php';\n\n/**\n * Busca todos os produtos da API.\n * Corresponde à chamada PHP sem parâmetros.\n * @returns {Promise<Array|Object>} Array de produtos ou objeto de erro.\n */\nexport const fetchProdutos = async () => {\n    try {\n        const response = await fetch(`http://localhost${PHP_API_URL_BASE}`);\n        \n        if (!response.ok) {\n            // Lança um erro se a resposta HTTP não for bem-sucedida (ex: 404, 500)\n            throw new Error(`Erro HTTP: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        return data;\n\n    } catch (error) {\n        console.error(\"Erro ao buscar produtos:\", error);\n        // Retorna um objeto de erro padronizado para ser tratado no frontend\n        return { sucesso: false, mensagem: \"Erro ao buscar produtos.\" }; \n    }\n}\n\n/**\n * Busca um produto específico pelo seu ID.\n * Corresponde à chamada PHP com o parâmetro '?id=...'.\n * @param {number} produtoId - O ID do produto a ser buscado.\n * @returns {Promise<Object>} O objeto do produto ou objeto de erro.\n */\nexport const fetchProdutoPorId = async (produtoId) => {\n    try {\n        const response = await fetch(`http://localhost${PHP_API_URL_BASE}?id=${produtoId}`);\n        \n        if (!response.ok) {\n            throw new Error(`Erro HTTP: ${response.status}`);\n        }\n        \n        // Se a API retornar um array com um único item (como esperado para busca por ID), \n        // é melhor retornar o objeto diretamente.\n        const data = await response.json();\n        return data[0] || null; // Retorna o primeiro item ou null se vazio.\n\n    } catch (error) {\n        console.error(`Erro ao buscar produto com ID ${produtoId}:`, error);\n        return { sucesso: false, mensagem: \"Erro ao buscar produto.\" }; \n    }\n}\n\n/**\n * Busca produtos por uma categoria específica.\n * Corresponde à chamada PHP com o parâmetro '?categoria=...'.\n * @param {string} categoria - O nome da categoria a ser buscada.\n * @returns {Promise<Array|Object>} Array de produtos da categoria ou objeto de erro.\n */\nexport const buscarProdutosPorCategoria = async (categoria) => {\n    try {\n        // Usa encodeURIComponent para garantir que caracteres especiais na categoria sejam tratados corretamente na URL\n        const response = await fetch(`http://localhost${PHP_API_URL_BASE}?categoria=${encodeURIComponent(categoria)}`);\n        \n        if (!response.ok) {\n            throw new Error(`Erro HTTP: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        return data;\n\n    } catch (error) {\n        console.error(`Erro ao buscar produtos na categoria ${categoria}:`, error);\n        return { sucesso: false, mensagem: \"Erro ao buscar produtos por categoria.\" }; \n    }\n}"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG,iEAAiE;;AAE1F;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;EACrC,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,mBAAmBH,gBAAgB,EAAE,CAAC;IAEnE,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE;MACd;MACA,MAAM,IAAIC,KAAK,CAAC,cAAcH,QAAQ,CAACI,MAAM,EAAE,CAAC;IACpD;IAEA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI;EAEf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD;IACA,OAAO;MAAEE,OAAO,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAA2B,CAAC;EACnE;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAOC,SAAS,IAAK;EAClD,IAAI;IACA,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,mBAAmBH,gBAAgB,OAAOc,SAAS,EAAE,CAAC;IAEnF,IAAI,CAACZ,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,cAAcH,QAAQ,CAACI,MAAM,EAAE,CAAC;IACpD;;IAEA;IACA;IACA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC;EAE5B,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,iCAAiCK,SAAS,GAAG,EAAEL,KAAK,CAAC;IACnE,OAAO;MAAEE,OAAO,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAA0B,CAAC;EAClE;AACJ,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMG,0BAA0B,GAAG,MAAOC,SAAS,IAAK;EAC3D,IAAI;IACA;IACA,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAC,mBAAmBH,gBAAgB,cAAciB,kBAAkB,CAACD,SAAS,CAAC,EAAE,CAAC;IAE9G,IAAI,CAACd,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,cAAcH,QAAQ,CAACI,MAAM,EAAE,CAAC;IACpD;IAEA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI;EAEf,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,wCAAwCO,SAAS,GAAG,EAAEP,KAAK,CAAC;IAC1E,OAAO;MAAEE,OAAO,EAAE,KAAK;MAAEC,QAAQ,EAAE;IAAyC,CAAC;EACjF;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}