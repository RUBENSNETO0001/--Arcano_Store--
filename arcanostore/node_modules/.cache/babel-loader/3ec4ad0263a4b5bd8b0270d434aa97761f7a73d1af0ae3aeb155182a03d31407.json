{"ast":null,"code":"// api_produtos.js\n\n// ----------------------------------------------------------------\n// CONFIGURA√á√ÉO BASE (AJUSTADA)\n// ----------------------------------------------------------------\n\n// Manter para a fun√ß√£o fetchProdutos (listagem)\nconst API_BASE_URL = `http://localhost/--Arcano_Store--/arcanostore/backend_php/produtos_bd/produtos.php`;\n\n// NOVO: URL espec√≠fica para o endpoint de detalhe (detalhe_produto.php)\nconst API_PRODUTOS_ID = `http://localhost/--Arcano_Store--/arcanostore/backend_php/produtos_bd/detalhe_produto.php`;\n\n// ... (fetchProdutos - fun√ß√£o 1 - permanece inalterada)\n\n// ----------------------------------------------------------------\n// 2. FUN√á√ÉO PARA BUSCAR UM PRODUTO POR ID (CORRIGIDA)\n// ----------------------------------------------------------------\n/**\n * Busca um produto espec√≠fico pelo seu ID.\n */\nexport const fetchProdutoPorId = async produtoId => {\n  try {\n    // *** CORRE√á√ÉO AQUI: Usa a URL correta (API_PRODUTOS_ID) ***\n    const url = `${API_PRODUTOS_ID}?id=${produtoId}`;\n    console.log(`-> üîé URL de API PHP (ID=${produtoId}) sendo testada:`, url);\n    const response = await fetch(url);\n    if (!response.ok) {\n      // Se o PHP retornar 404 (Produto N√£o Encontrado) ou 500 (Erro de DB),\n      // o erro ser√° lan√ßado aqui.\n      throw new Error(`Erro HTTP: ${response.status}`);\n    }\n    const data = await response.json();\n\n    // *** CORRE√á√ÉO AQUI: Espera a chave 'produtoDetalhe' do detalhe_produto.php ***\n    // O PHP retorna: {\"produtoDetalhe\": {...}}\n    const produto = data.produtoDetalhe;\n    if (!produto) {\n      // Lan√ßa erro se o objeto n√£o for encontrado na chave esperada\n      throw new Error(`Resposta da API inv√°lida. Nenhum objeto de produto encontrado.`);\n    }\n    return produto; // Retorna o objeto do produto\n  } catch (error) {\n    // O restante do tratamento de erro est√° OK.\n    console.error(`‚ùå Erro ao buscar produto ID ${produtoId}:`, error.message);\n    return {\n      sucesso: false,\n      mensagem: `Falha ao carregar detalhes do produto ${produtoId}.`\n    };\n  }\n};\n\n// ----------------------------------------------------------------\n// 3. FUN√á√ÉO PARA BUSCAR PRODUTOS POR CATEGORIA (Placeholder/Extens√£o)\n// ----------------------------------------------------------------\n/**\n * Busca produtos filtrados por uma categoria espec√≠fica.\n * @param {string} categoria - O nome da categoria (ex: 'eletronicos').\n * @returns {Promise<Array|Object>} Array de produtos ou objeto de erro.\n */\nexport const fetchProdutosPorCategoria = async categoria => {\n  try {\n    const url = `${API_BASE_URL}?categoria=${categoria}`;\n    console.log(`-> üîé URL de API PHP (CATEGORIA=${categoria}) sendo testada:`, url);\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Erro HTTP ao buscar categoria: ${response.status}`);\n    }\n    const data = await response.json();\n\n    // Assume que o PHP retorna um array ou um objeto com 'produtosCategoria'\n    return data.produtosCategoria || data;\n  } catch (error) {\n    console.error(`‚ùå Erro ao buscar produtos da categoria ${categoria}:`, error.message);\n    return {\n      sucesso: false,\n      mensagem: `Erro ao carregar produtos da categoria ${categoria}.`\n    };\n  }\n};\n\n// Fim do arquivo api_produtos.js - Total de linhas aproximado: 100","map":{"version":3,"names":["API_BASE_URL","API_PRODUTOS_ID","fetchProdutoPorId","produtoId","url","console","log","response","fetch","ok","Error","status","data","json","produto","produtoDetalhe","error","message","sucesso","mensagem","fetchProdutosPorCategoria","categoria","produtosCategoria"],"sources":["/opt/lampp/htdocs/--Arcano_Store--/arcanostore/src/services/api_produtos.js"],"sourcesContent":["// api_produtos.js\n\n// ----------------------------------------------------------------\n// CONFIGURA√á√ÉO BASE (AJUSTADA)\n// ----------------------------------------------------------------\n\n// Manter para a fun√ß√£o fetchProdutos (listagem)\nconst API_BASE_URL = `http://localhost/--Arcano_Store--/arcanostore/backend_php/produtos_bd/produtos.php`;\n\n// NOVO: URL espec√≠fica para o endpoint de detalhe (detalhe_produto.php)\nconst API_PRODUTOS_ID = `http://localhost/--Arcano_Store--/arcanostore/backend_php/produtos_bd/detalhe_produto.php`;\n\n\n// ... (fetchProdutos - fun√ß√£o 1 - permanece inalterada)\n\n\n// ----------------------------------------------------------------\n// 2. FUN√á√ÉO PARA BUSCAR UM PRODUTO POR ID (CORRIGIDA)\n// ----------------------------------------------------------------\n/**\n * Busca um produto espec√≠fico pelo seu ID.\n */\nexport const fetchProdutoPorId = async (produtoId) => {\n    try {\n        // *** CORRE√á√ÉO AQUI: Usa a URL correta (API_PRODUTOS_ID) ***\n        const url = `${API_PRODUTOS_ID}?id=${produtoId}`;\n        console.log(`-> üîé URL de API PHP (ID=${produtoId}) sendo testada:`, url);\n\n        const response = await fetch(url);\n        \n        if (!response.ok) {\n            // Se o PHP retornar 404 (Produto N√£o Encontrado) ou 500 (Erro de DB),\n            // o erro ser√° lan√ßado aqui.\n            throw new Error(`Erro HTTP: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        \n        // *** CORRE√á√ÉO AQUI: Espera a chave 'produtoDetalhe' do detalhe_produto.php ***\n        // O PHP retorna: {\"produtoDetalhe\": {...}}\n        const produto = data.produtoDetalhe; \n        \n        if (!produto) {\n             // Lan√ßa erro se o objeto n√£o for encontrado na chave esperada\n             throw new Error(`Resposta da API inv√°lida. Nenhum objeto de produto encontrado.`);\n        }\n        \n        return produto; // Retorna o objeto do produto\n        \n    } catch (error) {\n        // O restante do tratamento de erro est√° OK.\n        console.error(`‚ùå Erro ao buscar produto ID ${produtoId}:`, error.message);\n        return { \n            sucesso: false, \n            mensagem: `Falha ao carregar detalhes do produto ${produtoId}.` \n        }; \n    }\n}\n\n\n// ----------------------------------------------------------------\n// 3. FUN√á√ÉO PARA BUSCAR PRODUTOS POR CATEGORIA (Placeholder/Extens√£o)\n// ----------------------------------------------------------------\n/**\n * Busca produtos filtrados por uma categoria espec√≠fica.\n * @param {string} categoria - O nome da categoria (ex: 'eletronicos').\n * @returns {Promise<Array|Object>} Array de produtos ou objeto de erro.\n */\nexport const fetchProdutosPorCategoria = async (categoria) => {\n    try {\n        const url = `${API_BASE_URL}?categoria=${categoria}`;\n        console.log(`-> üîé URL de API PHP (CATEGORIA=${categoria}) sendo testada:`, url);\n\n        const response = await fetch(url);\n        \n        if (!response.ok) {\n            throw new Error(`Erro HTTP ao buscar categoria: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        \n        // Assume que o PHP retorna um array ou um objeto com 'produtosCategoria'\n        return data.produtosCategoria || data; \n\n    } catch (error) {\n        console.error(`‚ùå Erro ao buscar produtos da categoria ${categoria}:`, error.message);\n        return { sucesso: false, mensagem: `Erro ao carregar produtos da categoria ${categoria}.` }; \n    }\n}\n\n// Fim do arquivo api_produtos.js - Total de linhas aproximado: 100"],"mappings":"AAAA;;AAEA;AACA;AACA;;AAEA;AACA,MAAMA,YAAY,GAAG,oFAAoF;;AAEzG;AACA,MAAMC,eAAe,GAAG,2FAA2F;;AAGnH;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAOC,SAAS,IAAK;EAClD,IAAI;IACA;IACA,MAAMC,GAAG,GAAG,GAAGH,eAAe,OAAOE,SAAS,EAAE;IAChDE,OAAO,CAACC,GAAG,CAAC,4BAA4BH,SAAS,kBAAkB,EAAEC,GAAG,CAAC;IAEzE,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,CAAC;IAEjC,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;MACd;MACA;MACA,MAAM,IAAIC,KAAK,CAAC,cAAcH,QAAQ,CAACI,MAAM,EAAE,CAAC;IACpD;IAEA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;;IAElC;IACA;IACA,MAAMC,OAAO,GAAGF,IAAI,CAACG,cAAc;IAEnC,IAAI,CAACD,OAAO,EAAE;MACT;MACA,MAAM,IAAIJ,KAAK,CAAC,gEAAgE,CAAC;IACtF;IAEA,OAAOI,OAAO,CAAC,CAAC;EAEpB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACZ;IACAX,OAAO,CAACW,KAAK,CAAC,+BAA+Bb,SAAS,GAAG,EAAEa,KAAK,CAACC,OAAO,CAAC;IACzE,OAAO;MACHC,OAAO,EAAE,KAAK;MACdC,QAAQ,EAAE,yCAAyChB,SAAS;IAChE,CAAC;EACL;AACJ,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMiB,yBAAyB,GAAG,MAAOC,SAAS,IAAK;EAC1D,IAAI;IACA,MAAMjB,GAAG,GAAG,GAAGJ,YAAY,cAAcqB,SAAS,EAAE;IACpDhB,OAAO,CAACC,GAAG,CAAC,mCAAmCe,SAAS,kBAAkB,EAAEjB,GAAG,CAAC;IAEhF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACJ,GAAG,CAAC;IAEjC,IAAI,CAACG,QAAQ,CAACE,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,kCAAkCH,QAAQ,CAACI,MAAM,EAAE,CAAC;IACxE;IAEA,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;;IAElC;IACA,OAAOD,IAAI,CAACU,iBAAiB,IAAIV,IAAI;EAEzC,CAAC,CAAC,OAAOI,KAAK,EAAE;IACZX,OAAO,CAACW,KAAK,CAAC,0CAA0CK,SAAS,GAAG,EAAEL,KAAK,CAACC,OAAO,CAAC;IACpF,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEC,QAAQ,EAAE,0CAA0CE,SAAS;IAAI,CAAC;EAC/F;AACJ,CAAC;;AAED","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}