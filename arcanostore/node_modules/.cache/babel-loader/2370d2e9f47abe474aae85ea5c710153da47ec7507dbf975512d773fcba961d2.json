{"ast":null,"code":"// api_produtos.js\n\n/**\n * ARCANO STORE - M√≥dulo de Comunica√ß√£o com a API de Produtos (Backend PHP)\n * * ATEN√á√ÉO: Erros HTTP 500 v√™m do servidor PHP. \n * Use as instru√ß√µes anteriores para verificar o arquivo:\n * /--Arcano_Store--/arcanostore/backend_php/produtos_bd/produtos.php\n */\n\n// ----------------------------------------------------------------\n// CONFIGURA√á√ÉO BASE\n// ----------------------------------------------------------------\n\n// Ajuste este caminho se a estrutura do seu servidor mudar.\nconst API_BASE_URL = `http://localhost/--Arcano_Store--/arcanostore/backend_php/produtos_bd/produtos.php`;\n// ----------------------------------------------------------------\n// 1. FUN√á√ÉO PARA BUSCAR TODOS OS PRODUTOS (LISTA GERAL)\n// ----------------------------------------------------------------\n/**\n * Busca a lista COMPLETA de todos os produtos da API (sem ID).\n * @returns {Promise<Array|Object>} Array de produtos (ou um objeto de erro na falha).\n */\nexport const fetchProdutos = async () => {\n  try {\n    const url = API_BASE_URL;\n    console.log(\"-> üîé URL de API PHP (LISTA) sendo testada:\", url);\n    const response = await fetch(url);\n\n    // Verifica se o status HTTP √© 2xx (Sucesso)\n    if (!response.ok) {\n      // Captura o status (e.g., 500) e lan√ßa um erro\n      const status = response.status;\n      const statusText = response.statusText || 'Erro desconhecido do servidor';\n      throw new Error(`Erro HTTP ${status}: ${statusText}`);\n    }\n    const data = await response.json();\n\n    // L√≥gica para retornar o array principal, seja ele direto ou aninhado\n    return data.featuredProducts || data;\n  } catch (error) {\n    // Este bloco captura erros de rede OU o erro lan√ßado acima\n    console.error(\"‚ùå Erro ao buscar lista de produtos:\", error.message);\n    return {\n      sucesso: false,\n      mensagem: `Falha na comunica√ß√£o com o servidor. (Detalhe: ${error.message})`\n    };\n  }\n};\n\n// ----------------------------------------------------------------\n// 2. FUN√á√ÉO PARA BUSCAR UM PRODUTO POR ID\n// ----------------------------------------------------------------\n/**\n * Busca um produto espec√≠fico pelo seu ID.\n * @param {number} produtoId - O ID do produto a ser buscado.\n * @returns {Promise<Object>} O objeto do produto ou objeto de erro.\n */\nexport const fetchProdutoPorId = async produtoId => {\n  try {\n    const url = `${API_BASE_URL}?id=${produtoId}`;\n    console.log(`-> üîé URL de API PHP (ID=${produtoId}) sendo testada:`, url);\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Erro HTTP: ${response.status}`);\n    }\n    const data = await response.json();\n\n    // Adapta√ß√£o para o formato de resposta esperado (array com 1 item ou objeto direto)\n    const produto = data.featuredProducts ? data.featuredProducts[0] || null : data[0] || null;\n    if (!produto) {\n      throw new Error(`Nenhum produto encontrado com o ID ${produtoId}.`);\n    }\n    return produto;\n  } catch (error) {\n    console.error(`‚ùå Erro ao buscar produto ID ${produtoId}:`, error.message);\n    return {\n      sucesso: false,\n      mensagem: `Falha ao carregar detalhes do produto ${produtoId}.`\n    };\n  }\n};\n\n// ----------------------------------------------------------------\n// 3. FUN√á√ÉO PARA BUSCAR PRODUTOS POR CATEGORIA (Placeholder/Extens√£o)\n// ----------------------------------------------------------------\n/**\n * Busca produtos filtrados por uma categoria espec√≠fica.\n * @param {string} categoria - O nome da categoria (ex: 'eletronicos').\n * @returns {Promise<Array|Object>} Array de produtos ou objeto de erro.\n */\nexport const fetchProdutosPorCategoria = async categoria => {\n  try {\n    const url = `${API_BASE_URL}?categoria=${categoria}`;\n    console.log(`-> üîé URL de API PHP (CATEGORIA=${categoria}) sendo testada:`, url);\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`Erro HTTP ao buscar categoria: ${response.status}`);\n    }\n    const data = await response.json();\n\n    // Assume que o PHP retorna um array ou um objeto com 'produtosCategoria'\n    return data.produtosCategoria || data;\n  } catch (error) {\n    console.error(`‚ùå Erro ao buscar produtos da categoria ${categoria}:`, error.message);\n    return {\n      sucesso: false,\n      mensagem: `Erro ao carregar produtos da categoria ${categoria}.`\n    };\n  }\n};\n\n// Fim do arquivo api_produtos.js - Total de linhas aproximado: 100","map":{"version":3,"names":["API_BASE_URL","fetchProdutos","url","console","log","response","fetch","ok","status","statusText","Error","data","json","featuredProducts","error","message","sucesso","mensagem","fetchProdutoPorId","produtoId","produto","fetchProdutosPorCategoria","categoria","produtosCategoria"],"sources":["/opt/lampp/htdocs/--Arcano_Store--/arcanostore/src/services/api_produtos.js"],"sourcesContent":["// api_produtos.js\n\n/**\n * ARCANO STORE - M√≥dulo de Comunica√ß√£o com a API de Produtos (Backend PHP)\n * * ATEN√á√ÉO: Erros HTTP 500 v√™m do servidor PHP. \n * Use as instru√ß√µes anteriores para verificar o arquivo:\n * /--Arcano_Store--/arcanostore/backend_php/produtos_bd/produtos.php\n */\n\n// ----------------------------------------------------------------\n// CONFIGURA√á√ÉO BASE\n// ----------------------------------------------------------------\n\n// Ajuste este caminho se a estrutura do seu servidor mudar.\nconst API_BASE_URL = `http://localhost/--Arcano_Store--/arcanostore/backend_php/produtos_bd/produtos.php`;\n// ----------------------------------------------------------------\n// 1. FUN√á√ÉO PARA BUSCAR TODOS OS PRODUTOS (LISTA GERAL)\n// ----------------------------------------------------------------\n/**\n * Busca a lista COMPLETA de todos os produtos da API (sem ID).\n * @returns {Promise<Array|Object>} Array de produtos (ou um objeto de erro na falha).\n */\nexport const fetchProdutos = async () => {\n    try {\n        const url = API_BASE_URL;\n        console.log(\"-> üîé URL de API PHP (LISTA) sendo testada:\", url); \n\n        const response = await fetch(url);\n        \n        // Verifica se o status HTTP √© 2xx (Sucesso)\n        if (!response.ok) {\n            // Captura o status (e.g., 500) e lan√ßa um erro\n            const status = response.status;\n            const statusText = response.statusText || 'Erro desconhecido do servidor';\n            throw new Error(`Erro HTTP ${status}: ${statusText}`);\n        }\n        \n        const data = await response.json();\n        \n        // L√≥gica para retornar o array principal, seja ele direto ou aninhado\n        return data.featuredProducts || data; \n\n    } catch (error) {\n        // Este bloco captura erros de rede OU o erro lan√ßado acima\n        console.error(\"‚ùå Erro ao buscar lista de produtos:\", error.message);\n        return { \n            sucesso: false, \n            mensagem: `Falha na comunica√ß√£o com o servidor. (Detalhe: ${error.message})` \n        }; \n    }\n}\n\n\n// ----------------------------------------------------------------\n// 2. FUN√á√ÉO PARA BUSCAR UM PRODUTO POR ID\n// ----------------------------------------------------------------\n/**\n * Busca um produto espec√≠fico pelo seu ID.\n * @param {number} produtoId - O ID do produto a ser buscado.\n * @returns {Promise<Object>} O objeto do produto ou objeto de erro.\n */\nexport const fetchProdutoPorId = async (produtoId) => {\n    try {\n        const url = `${API_BASE_URL}?id=${produtoId}`;\n        console.log(`-> üîé URL de API PHP (ID=${produtoId}) sendo testada:`, url);\n\n        const response = await fetch(url);\n        \n        if (!response.ok) {\n            throw new Error(`Erro HTTP: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        \n        // Adapta√ß√£o para o formato de resposta esperado (array com 1 item ou objeto direto)\n        const produto = data.featuredProducts ? (data.featuredProducts[0] || null) : (data[0] || null);\n        \n        if (!produto) {\n             throw new Error(`Nenhum produto encontrado com o ID ${produtoId}.`);\n        }\n        \n        return produto;\n\n    } catch (error) {\n        console.error(`‚ùå Erro ao buscar produto ID ${produtoId}:`, error.message);\n        return { \n            sucesso: false, \n            mensagem: `Falha ao carregar detalhes do produto ${produtoId}.` \n        }; \n    }\n}\n\n\n// ----------------------------------------------------------------\n// 3. FUN√á√ÉO PARA BUSCAR PRODUTOS POR CATEGORIA (Placeholder/Extens√£o)\n// ----------------------------------------------------------------\n/**\n * Busca produtos filtrados por uma categoria espec√≠fica.\n * @param {string} categoria - O nome da categoria (ex: 'eletronicos').\n * @returns {Promise<Array|Object>} Array de produtos ou objeto de erro.\n */\nexport const fetchProdutosPorCategoria = async (categoria) => {\n    try {\n        const url = `${API_BASE_URL}?categoria=${categoria}`;\n        console.log(`-> üîé URL de API PHP (CATEGORIA=${categoria}) sendo testada:`, url);\n\n        const response = await fetch(url);\n        \n        if (!response.ok) {\n            throw new Error(`Erro HTTP ao buscar categoria: ${response.status}`);\n        }\n        \n        const data = await response.json();\n        \n        // Assume que o PHP retorna um array ou um objeto com 'produtosCategoria'\n        return data.produtosCategoria || data; \n\n    } catch (error) {\n        console.error(`‚ùå Erro ao buscar produtos da categoria ${categoria}:`, error.message);\n        return { sucesso: false, mensagem: `Erro ao carregar produtos da categoria ${categoria}.` }; \n    }\n}\n\n// Fim do arquivo api_produtos.js - Total de linhas aproximado: 100"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}