{"ast":null,"code":"// Defina UM ÚNICO BASE URL para o seu servidor PHP (Apache/XAMPP)\nconst PHP_SERVER_BASE = 'http://localhost'; // <-- TROQUE ESTE PORTA SE NECESSÁRIO (e.g., :8080)\n\n// **ATENÇÃO:** A URL deve ser absoluta a partir do seu servidor web (Apache/XAMPP)\n// **ASSUMA** que seu servidor web está servindo a pasta 'backend_php' na raiz.\nconst PHP_API_URL_REGISTRO = '/arcano_store/backend_php/login_registro/registro.php';\nconst PHP_API_URL_LOGIN = '/backend_php/login_registro/db_login.php'; // CORRIGIDO: agora é absoluto\n\n// MANTENHA O PORTA 3000 APENAS SE NECESSÁRIO PARA OUTROS SERVIÇOS/PROXY\n// Se este arquivo for chamado por um frontend no porta 3000, COMENTE OU REMOVA ESTA LINHA\n// const API_BASE_URL = 'http://localhost:3000'; \n\n// --- FUNÇÃO DE REGISTRO ---\nexport const registrarUsuario = async userData => {\n  try {\n    // Usa o servidor PHP configurado\n    const response = await fetch(`${PHP_SERVER_BASE}${PHP_API_URL_REGISTRO}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userData)\n    });\n\n    // ... restante do tratamento de erro (mantido)\n    if (!response.ok) {\n      const errorText = await response.text();\n      let errorMessage = `Erro HTTP: ${response.status}`;\n      try {\n        const errorData = JSON.parse(errorText);\n        errorMessage = errorData.mensagem || errorMessage;\n      } catch (e) {\n        // Se não for JSON, mantemos a mensagem de status.\n      }\n      throw new Error(errorMessage);\n    }\n    return await response.json();\n  } catch (error) {\n    return {\n      sucesso: false,\n      mensagem: error.message || \"Erro de conexão com o servidor de registro.\"\n    };\n  }\n};\n\n// --- FUNÇÃO DE LOGIN (Sugestão para o LoginForm) ---\nexport const fazerLogin = async loginData => {\n  try {\n    // Usa o servidor PHP configurado\n    const response = await fetch(`${PHP_SERVER_BASE}${PHP_API_URL_LOGIN}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(loginData)\n    });\n\n    // ... restante do tratamento de erro (mantido)\n    if (!response.ok) {\n      const errorText = await response.text();\n      let errorMessage = `Erro HTTP: ${response.status}`;\n      try {\n        const errorData = JSON.parse(errorText);\n        errorMessage = errorData.mensagem || errorMessage;\n      } catch (e) {\n        // Se não for JSON, mantemos a mensagem de status.\n      }\n      throw new Error(errorMessage);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"Erro na comunicação com o Backend de Login:\", error);\n    return {\n      sucesso: false,\n      mensagem: error.message || \"Erro de conexão com o servidor de login.\"\n    };\n  }\n};","map":{"version":3,"names":["PHP_SERVER_BASE","PHP_API_URL_REGISTRO","PHP_API_URL_LOGIN","registrarUsuario","userData","response","fetch","method","headers","body","JSON","stringify","ok","errorText","text","errorMessage","status","errorData","parse","mensagem","e","Error","json","error","sucesso","message","fazerLogin","loginData","console"],"sources":["/opt/lampp/htdocs/--Arcano_Store--/arcanostore/src/services/apiService.js"],"sourcesContent":["// Defina UM ÚNICO BASE URL para o seu servidor PHP (Apache/XAMPP)\nconst PHP_SERVER_BASE = 'http://localhost'; // <-- TROQUE ESTE PORTA SE NECESSÁRIO (e.g., :8080)\n\n// **ATENÇÃO:** A URL deve ser absoluta a partir do seu servidor web (Apache/XAMPP)\n// **ASSUMA** que seu servidor web está servindo a pasta 'backend_php' na raiz.\nconst PHP_API_URL_REGISTRO = '/arcano_store/backend_php/login_registro/registro.php'; \nconst PHP_API_URL_LOGIN = '/backend_php/login_registro/db_login.php'; // CORRIGIDO: agora é absoluto\n\n// MANTENHA O PORTA 3000 APENAS SE NECESSÁRIO PARA OUTROS SERVIÇOS/PROXY\n// Se este arquivo for chamado por um frontend no porta 3000, COMENTE OU REMOVA ESTA LINHA\n// const API_BASE_URL = 'http://localhost:3000'; \n\n// --- FUNÇÃO DE REGISTRO ---\nexport const registrarUsuario = async (userData) => {\n    try {\n        // Usa o servidor PHP configurado\n        const response = await fetch(`${PHP_SERVER_BASE}${PHP_API_URL_REGISTRO}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(userData), \n        });\n\n        // ... restante do tratamento de erro (mantido)\n        if (!response.ok) {\n            const errorText = await response.text();\n            let errorMessage = `Erro HTTP: ${response.status}`;\n            try {\n                 const errorData = JSON.parse(errorText);\n                 errorMessage = errorData.mensagem || errorMessage;\n            } catch (e) {\n                // Se não for JSON, mantemos a mensagem de status.\n            }\n            throw new Error(errorMessage);\n        }\n        return await response.json(); \n\n    } catch (error) {\n        return { sucesso: false, mensagem: error.message || \"Erro de conexão com o servidor de registro.\" };\n    }\n};\n\n// --- FUNÇÃO DE LOGIN (Sugestão para o LoginForm) ---\nexport const fazerLogin = async (loginData) => {\n    try {\n        // Usa o servidor PHP configurado\n        const response = await fetch(`${PHP_SERVER_BASE}${PHP_API_URL_LOGIN}`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(loginData), \n        });\n\n        // ... restante do tratamento de erro (mantido)\n        if (!response.ok) {\n            const errorText = await response.text();\n            let errorMessage = `Erro HTTP: ${response.status}`;\n            try {\n                 const errorData = JSON.parse(errorText);\n                 errorMessage = errorData.mensagem || errorMessage;\n            } catch (e) {\n                // Se não for JSON, mantemos a mensagem de status.\n            }\n            throw new Error(errorMessage);\n        }\n        return await response.json(); \n\n    } catch (error) {\n        console.error(\"Erro na comunicação com o Backend de Login:\", error);\n        return { sucesso: false, mensagem: error.message || \"Erro de conexão com o servidor de login.\" };\n    }\n}"],"mappings":"AAAA;AACA,MAAMA,eAAe,GAAG,kBAAkB,CAAC,CAAC;;AAE5C;AACA;AACA,MAAMC,oBAAoB,GAAG,uDAAuD;AACpF,MAAMC,iBAAiB,GAAG,0CAA0C,CAAC,CAAC;;AAEtE;AACA;AACA;;AAEA;AACA,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,QAAQ,IAAK;EAChD,IAAI;IACA;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,eAAe,GAAGC,oBAAoB,EAAE,EAAE;MACtEM,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,QAAQ;IACjC,CAAC,CAAC;;IAEF;IACA,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;MACd,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;MACvC,IAAIC,YAAY,GAAG,cAAcV,QAAQ,CAACW,MAAM,EAAE;MAClD,IAAI;QACC,MAAMC,SAAS,GAAGP,IAAI,CAACQ,KAAK,CAACL,SAAS,CAAC;QACvCE,YAAY,GAAGE,SAAS,CAACE,QAAQ,IAAIJ,YAAY;MACtD,CAAC,CAAC,OAAOK,CAAC,EAAE;QACR;MAAA;MAEJ,MAAM,IAAIC,KAAK,CAACN,YAAY,CAAC;IACjC;IACA,OAAO,MAAMV,QAAQ,CAACiB,IAAI,CAAC,CAAC;EAEhC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEL,QAAQ,EAAEI,KAAK,CAACE,OAAO,IAAI;IAA8C,CAAC;EACvG;AACJ,CAAC;;AAED;AACA,OAAO,MAAMC,UAAU,GAAG,MAAOC,SAAS,IAAK;EAC3C,IAAI;IACA;IACA,MAAMtB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGN,eAAe,GAAGE,iBAAiB,EAAE,EAAE;MACnEK,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACgB,SAAS;IAClC,CAAC,CAAC;;IAEF;IACA,IAAI,CAACtB,QAAQ,CAACO,EAAE,EAAE;MACd,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;MACvC,IAAIC,YAAY,GAAG,cAAcV,QAAQ,CAACW,MAAM,EAAE;MAClD,IAAI;QACC,MAAMC,SAAS,GAAGP,IAAI,CAACQ,KAAK,CAACL,SAAS,CAAC;QACvCE,YAAY,GAAGE,SAAS,CAACE,QAAQ,IAAIJ,YAAY;MACtD,CAAC,CAAC,OAAOK,CAAC,EAAE;QACR;MAAA;MAEJ,MAAM,IAAIC,KAAK,CAACN,YAAY,CAAC;IACjC;IACA,OAAO,MAAMV,QAAQ,CAACiB,IAAI,CAAC,CAAC;EAEhC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZK,OAAO,CAACL,KAAK,CAAC,6CAA6C,EAAEA,KAAK,CAAC;IACnE,OAAO;MAAEC,OAAO,EAAE,KAAK;MAAEL,QAAQ,EAAEI,KAAK,CAACE,OAAO,IAAI;IAA2C,CAAC;EACpG;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}