{"ast":null,"code":"// src/index.ts\nimport { isElementInChildOfActiveScope } from \"@react-aria/focus\";\nimport { useFocusWithin, useInteractOutside } from \"@react-aria/interactions\";\nimport { useEffect } from \"react\";\nvar visibleOverlays = [];\nfunction useAriaOverlay(props, ref) {\n  const {\n    disableOutsideEvents = true,\n    isDismissable = false,\n    isKeyboardDismissDisabled = false,\n    isOpen,\n    onClose,\n    shouldCloseOnBlur,\n    shouldCloseOnInteractOutside\n  } = props;\n  useEffect(() => {\n    if (isOpen && !visibleOverlays.includes(ref)) {\n      visibleOverlays.push(ref);\n      return () => {\n        let index = visibleOverlays.indexOf(ref);\n        if (index >= 0) {\n          visibleOverlays.splice(index, 1);\n        }\n      };\n    }\n  }, [isOpen, ref]);\n  const onHide = () => {\n    if (visibleOverlays[visibleOverlays.length - 1] === ref && onClose) {\n      onClose();\n    }\n  };\n  const onInteractOutsideStart = e => {\n    if (!shouldCloseOnInteractOutside || shouldCloseOnInteractOutside(e.target)) {\n      if (visibleOverlays[visibleOverlays.length - 1] === ref) {\n        if (disableOutsideEvents) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      if (getOverlayInteractionType(ref) !== \"pressEnd\") {\n        onHide();\n      }\n    }\n  };\n  const onInteractOutside = e => {\n    if (!shouldCloseOnInteractOutside || shouldCloseOnInteractOutside(e.target)) {\n      if (visibleOverlays[visibleOverlays.length - 1] === ref) {\n        if (disableOutsideEvents) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      onHide();\n    }\n  };\n  const onKeyDown = e => {\n    if (e.key === \"Escape\" && !isKeyboardDismissDisabled && !e.nativeEvent.isComposing) {\n      e.stopPropagation();\n      e.preventDefault();\n      onHide();\n    }\n  };\n  useInteractOutside({\n    isDisabled: !(isDismissable && isOpen),\n    onInteractOutside: isDismissable && isOpen ? onInteractOutside : void 0,\n    onInteractOutsideStart,\n    ref\n  });\n  const {\n    focusWithinProps\n  } = useFocusWithin({\n    isDisabled: !shouldCloseOnBlur,\n    onBlurWithin: e => {\n      if (!e.relatedTarget || isElementInChildOfActiveScope(e.relatedTarget)) {\n        return;\n      }\n      if (!shouldCloseOnInteractOutside || shouldCloseOnInteractOutside(e.relatedTarget)) {\n        onHide();\n      }\n    }\n  });\n  const onPointerDownUnderlay = e => {\n    if (e.target === e.currentTarget) {\n      e.preventDefault();\n    }\n  };\n  function getOverlayInteractionType(ref2) {\n    const el = ref2.current;\n    if (!el) return \"unknown\";\n    const role = (el.getAttribute(\"role\") || \"\").toLowerCase();\n    const ariaModalAttr = el.getAttribute(\"aria-modal\");\n    if ((role === \"dialog\" || role === \"alertdialog\") && (ariaModalAttr === null || ariaModalAttr.toLowerCase() === \"true\")) {\n      return \"pressEnd\";\n    }\n    if ([\"listbox\", \"menu\", \"tree\", \"grid\", \"combobox\"].includes(role)) {\n      return \"pressStart\";\n    }\n    return \"unknown\";\n  }\n  return {\n    overlayProps: {\n      onKeyDown,\n      ...focusWithinProps\n    },\n    underlayProps: {\n      onPointerDown: onPointerDownUnderlay\n    }\n  };\n}\nexport { useAriaOverlay };","map":{"version":3,"names":["isElementInChildOfActiveScope","useFocusWithin","useInteractOutside","useEffect","visibleOverlays","useAriaOverlay","props","ref","disableOutsideEvents","isDismissable","isKeyboardDismissDisabled","isOpen","onClose","shouldCloseOnBlur","shouldCloseOnInteractOutside","includes","push","index","indexOf","splice","onHide","length","onInteractOutsideStart","e","target","stopPropagation","preventDefault","getOverlayInteractionType","onInteractOutside","onKeyDown","key","nativeEvent","isComposing","isDisabled","focusWithinProps","onBlurWithin","relatedTarget","onPointerDownUnderlay","currentTarget","ref2","el","current","role","getAttribute","toLowerCase","ariaModalAttr","overlayProps","underlayProps","onPointerDown"],"sources":["C:/Users/Aluno/Documents/GitHub/--Arcano_Store--/arcanostore/node_modules/@heroui/use-aria-overlay/dist/index.mjs"],"sourcesContent":["// src/index.ts\nimport { isElementInChildOfActiveScope } from \"@react-aria/focus\";\nimport { useFocusWithin, useInteractOutside } from \"@react-aria/interactions\";\nimport { useEffect } from \"react\";\nvar visibleOverlays = [];\nfunction useAriaOverlay(props, ref) {\n  const {\n    disableOutsideEvents = true,\n    isDismissable = false,\n    isKeyboardDismissDisabled = false,\n    isOpen,\n    onClose,\n    shouldCloseOnBlur,\n    shouldCloseOnInteractOutside\n  } = props;\n  useEffect(() => {\n    if (isOpen && !visibleOverlays.includes(ref)) {\n      visibleOverlays.push(ref);\n      return () => {\n        let index = visibleOverlays.indexOf(ref);\n        if (index >= 0) {\n          visibleOverlays.splice(index, 1);\n        }\n      };\n    }\n  }, [isOpen, ref]);\n  const onHide = () => {\n    if (visibleOverlays[visibleOverlays.length - 1] === ref && onClose) {\n      onClose();\n    }\n  };\n  const onInteractOutsideStart = (e) => {\n    if (!shouldCloseOnInteractOutside || shouldCloseOnInteractOutside(e.target)) {\n      if (visibleOverlays[visibleOverlays.length - 1] === ref) {\n        if (disableOutsideEvents) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      if (getOverlayInteractionType(ref) !== \"pressEnd\") {\n        onHide();\n      }\n    }\n  };\n  const onInteractOutside = (e) => {\n    if (!shouldCloseOnInteractOutside || shouldCloseOnInteractOutside(e.target)) {\n      if (visibleOverlays[visibleOverlays.length - 1] === ref) {\n        if (disableOutsideEvents) {\n          e.stopPropagation();\n          e.preventDefault();\n        }\n      }\n      onHide();\n    }\n  };\n  const onKeyDown = (e) => {\n    if (e.key === \"Escape\" && !isKeyboardDismissDisabled && !e.nativeEvent.isComposing) {\n      e.stopPropagation();\n      e.preventDefault();\n      onHide();\n    }\n  };\n  useInteractOutside({\n    isDisabled: !(isDismissable && isOpen),\n    onInteractOutside: isDismissable && isOpen ? onInteractOutside : void 0,\n    onInteractOutsideStart,\n    ref\n  });\n  const { focusWithinProps } = useFocusWithin({\n    isDisabled: !shouldCloseOnBlur,\n    onBlurWithin: (e) => {\n      if (!e.relatedTarget || isElementInChildOfActiveScope(e.relatedTarget)) {\n        return;\n      }\n      if (!shouldCloseOnInteractOutside || shouldCloseOnInteractOutside(e.relatedTarget)) {\n        onHide();\n      }\n    }\n  });\n  const onPointerDownUnderlay = (e) => {\n    if (e.target === e.currentTarget) {\n      e.preventDefault();\n    }\n  };\n  function getOverlayInteractionType(ref2) {\n    const el = ref2.current;\n    if (!el) return \"unknown\";\n    const role = (el.getAttribute(\"role\") || \"\").toLowerCase();\n    const ariaModalAttr = el.getAttribute(\"aria-modal\");\n    if ((role === \"dialog\" || role === \"alertdialog\") && (ariaModalAttr === null || ariaModalAttr.toLowerCase() === \"true\")) {\n      return \"pressEnd\";\n    }\n    if ([\"listbox\", \"menu\", \"tree\", \"grid\", \"combobox\"].includes(role)) {\n      return \"pressStart\";\n    }\n    return \"unknown\";\n  }\n  return {\n    overlayProps: {\n      onKeyDown,\n      ...focusWithinProps\n    },\n    underlayProps: {\n      onPointerDown: onPointerDownUnderlay\n    }\n  };\n}\nexport {\n  useAriaOverlay\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}